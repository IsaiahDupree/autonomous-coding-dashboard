{
  "project": "SoftwareHub",
  "description": "Course & Software Distribution Platform with Licensing",
  "version": "2.0",
  "total_features": 120,
  "features": [
    {
      "id": "sh-001",
      "epic": "Phase 1: Database Foundation",
      "category": "critical",
      "priority": 1,
      "description": "Create packages table migration with all fields (name, slug, type, status, pricing, media)",
      "acceptance_criteria": ["Table created with correct schema", "RLS policies configured", "Indexes on slug, type, status"],
      "file_hint": "supabase/migrations/0050_packages.sql",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-002",
      "epic": "Phase 1: Database Foundation",
      "category": "critical",
      "priority": 2,
      "description": "Create package_releases table migration for version history",
      "acceptance_criteria": ["Table created with FK to packages", "Unique constraint on package_id + version", "Version parser trigger"],
      "file_hint": "supabase/migrations/0051_package_releases.sql",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-003",
      "epic": "Phase 1: Database Foundation",
      "category": "critical",
      "priority": 3,
      "description": "Create licenses table migration for license keys",
      "acceptance_criteria": ["Table created with FKs to users and packages", "Unique license_key constraint", "license_key_hash for secure lookups"],
      "file_hint": "supabase/migrations/0052_licenses.sql",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-004",
      "epic": "Phase 1: Database Foundation",
      "category": "critical",
      "priority": 4,
      "description": "Create device_activations table migration",
      "acceptance_criteria": ["Table created with FK to licenses", "Unique constraint on license_id + device_id_hash", "activation_token field"],
      "file_hint": "supabase/migrations/0053_device_activations.sql",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-005",
      "epic": "Phase 1: Database Foundation",
      "category": "critical",
      "priority": 5,
      "description": "Create package_entitlements table migration",
      "acceptance_criteria": ["Table created with FKs", "Unique constraint on user_id + package_id", "RLS for user access"],
      "file_hint": "supabase/migrations/0054_package_entitlements.sql",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-006",
      "epic": "Phase 1: Database Foundation",
      "category": "high",
      "priority": 6,
      "description": "Create activity_feed table migration",
      "acceptance_criteria": ["Table created with type enum", "Indexes on type, package_id, created_at", "RLS for public/private"],
      "file_hint": "supabase/migrations/0055_activity_feed.sql",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-007",
      "epic": "Phase 1: Database Foundation",
      "category": "high",
      "priority": 7,
      "description": "Create status_checks table migration",
      "acceptance_criteria": ["Table created with FK to packages", "Index on checked_at", "Status enum constraint"],
      "file_hint": "supabase/migrations/0056_status_checks.sql",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-008",
      "epic": "Phase 1: Database Foundation",
      "category": "high",
      "priority": 8,
      "description": "Create download_logs table migration",
      "acceptance_criteria": ["Table created with FKs", "Indexes on user_id, package_id", "Track download progress"],
      "file_hint": "supabase/migrations/0057_download_logs.sql",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-009",
      "epic": "Phase 1: Database Foundation",
      "category": "high",
      "priority": 9,
      "description": "Create database helper functions (generate_license_key, has_package_access)",
      "acceptance_criteria": ["generate_license_key returns XXXX-XXXX-XXXX-XXXX format", "has_package_access checks entitlements", "Functions are SECURITY DEFINER"],
      "file_hint": "supabase/migrations/0058_functions.sql",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-010",
      "epic": "Phase 1: Database Foundation",
      "category": "medium",
      "priority": 10,
      "description": "Apply all migrations to local Supabase and verify schema",
      "acceptance_criteria": ["All migrations apply without errors", "Tables visible in Supabase Studio", "RLS policies active"],
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-011",
      "epic": "Phase 2: Package APIs",
      "category": "critical",
      "priority": 11,
      "description": "Create TypeScript types for packages, releases, licenses",
      "acceptance_criteria": ["Package interface with all fields", "Release interface", "License interface", "Types exported from lib/types/"],
      "file_hint": "lib/types/packages.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-012",
      "epic": "Phase 2: Package APIs",
      "category": "critical",
      "priority": 12,
      "description": "Create Zod schemas for package validation",
      "acceptance_criteria": ["CreatePackageSchema", "UpdatePackageSchema", "CreateReleaseSchema", "Validation for all required fields"],
      "file_hint": "lib/validation/packages.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-013",
      "epic": "Phase 2: Package APIs",
      "category": "critical",
      "priority": 13,
      "description": "Implement GET /api/packages - list all published packages",
      "acceptance_criteria": ["Returns published packages", "Includes status and current version", "Optional type filter", "Pagination support"],
      "file_hint": "app/api/packages/route.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-014",
      "epic": "Phase 2: Package APIs",
      "category": "critical",
      "priority": 14,
      "description": "Implement GET /api/packages/[slug] - get package details",
      "acceptance_criteria": ["Returns full package details", "Includes features, requirements", "Shows user entitlement if logged in", "404 if not found or not published"],
      "file_hint": "app/api/packages/[slug]/route.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-015",
      "epic": "Phase 2: Package APIs",
      "category": "high",
      "priority": 15,
      "description": "Implement GET /api/packages/[slug]/releases - get release history",
      "acceptance_criteria": ["Returns releases ordered by version DESC", "Includes release notes", "Filters by channel optional", "Only published, non-yanked releases"],
      "file_hint": "app/api/packages/[slug]/releases/route.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-016",
      "epic": "Phase 2: Package APIs",
      "category": "critical",
      "priority": 16,
      "description": "Implement POST /api/admin/packages - create package",
      "acceptance_criteria": ["Admin auth required", "Validates with Zod schema", "Creates package in DB", "Returns created package"],
      "file_hint": "app/api/admin/packages/route.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-017",
      "epic": "Phase 2: Package APIs",
      "category": "critical",
      "priority": 17,
      "description": "Implement PUT /api/admin/packages/[id] - update package",
      "acceptance_criteria": ["Admin auth required", "Validates with Zod", "Updates package", "Handles published_at on publish"],
      "file_hint": "app/api/admin/packages/[id]/route.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-018",
      "epic": "Phase 2: Package APIs",
      "category": "high",
      "priority": 18,
      "description": "Implement DELETE /api/admin/packages/[id] - soft delete package",
      "acceptance_criteria": ["Admin auth required", "Sets is_published to false", "Keeps data for reference", "Returns success"],
      "file_hint": "app/api/admin/packages/[id]/route.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-019",
      "epic": "Phase 2: Package APIs",
      "category": "critical",
      "priority": 19,
      "description": "Implement POST /api/admin/releases - create release",
      "acceptance_criteria": ["Admin auth required", "Validates version format", "Sets is_current flag correctly", "Creates activity feed entry"],
      "file_hint": "app/api/admin/releases/route.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-020",
      "epic": "Phase 2: Package APIs",
      "category": "high",
      "priority": 20,
      "description": "Implement POST /api/admin/releases/[id]/upload - upload binary",
      "acceptance_criteria": ["Accepts multipart form data", "Uploads to R2/S3", "Calculates SHA256 checksum", "Updates release with URL and size"],
      "file_hint": "app/api/admin/releases/[id]/upload/route.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-021",
      "epic": "Phase 3: Admin UI",
      "category": "critical",
      "priority": 21,
      "description": "Create admin packages list page with table view",
      "acceptance_criteria": ["Lists all packages (published and unpublished)", "Shows type badge, status, version", "Edit/delete actions", "Create button"],
      "file_hint": "app/admin/packages/page.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-022",
      "epic": "Phase 3: Admin UI",
      "category": "critical",
      "priority": 22,
      "description": "Create package create/edit form component",
      "acceptance_criteria": ["Form with all package fields", "Type selector (LOCAL_AGENT/CLOUD_APP)", "Features array editor", "Requirements JSON editor"],
      "file_hint": "components/admin/PackageForm.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-023",
      "epic": "Phase 3: Admin UI",
      "category": "high",
      "priority": 23,
      "description": "Create admin package create page",
      "acceptance_criteria": ["Uses PackageForm component", "Submits to POST /api/admin/packages", "Redirects to edit page on success", "Shows validation errors"],
      "file_hint": "app/admin/packages/new/page.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-024",
      "epic": "Phase 3: Admin UI",
      "category": "high",
      "priority": 24,
      "description": "Create admin package edit page",
      "acceptance_criteria": ["Loads existing package data", "Uses PackageForm component", "Submits to PUT /api/admin/packages/[id]", "Shows success message"],
      "file_hint": "app/admin/packages/[id]/page.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-025",
      "epic": "Phase 3: Admin UI",
      "category": "high",
      "priority": 25,
      "description": "Create admin releases management page",
      "acceptance_criteria": ["Lists releases for package", "Shows version, channel, downloads", "Upload new release form", "Set as current toggle"],
      "file_hint": "app/admin/packages/[id]/releases/page.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-026",
      "epic": "Phase 3: Admin UI",
      "category": "high",
      "priority": 26,
      "description": "Create release upload form with progress",
      "acceptance_criteria": ["Version input with validation", "Channel selector", "File upload with progress bar", "Release notes markdown editor"],
      "file_hint": "components/admin/ReleaseUploadForm.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-027",
      "epic": "Phase 3: Admin UI",
      "category": "medium",
      "priority": 27,
      "description": "Add icon and screenshot upload to package form",
      "acceptance_criteria": ["Icon upload with preview", "Multiple screenshot upload", "Drag and drop support", "Delete uploaded images"],
      "file_hint": "components/admin/ImageUpload.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-028",
      "epic": "Phase 4: Stripe Integration",
      "category": "critical",
      "priority": 28,
      "description": "Create Stripe product and price for packages",
      "acceptance_criteria": ["API to create Stripe product", "Links stripe_product_id to package", "Creates price with price_cents"],
      "file_hint": "lib/stripe/packages.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-029",
      "epic": "Phase 4: Stripe Integration",
      "category": "critical",
      "priority": 29,
      "description": "Create package checkout session endpoint",
      "acceptance_criteria": ["POST /api/packages/[slug]/checkout", "Creates Stripe checkout session", "Includes package metadata", "Returns checkout URL"],
      "file_hint": "app/api/packages/[slug]/checkout/route.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-030",
      "epic": "Phase 4: Stripe Integration",
      "category": "critical",
      "priority": 30,
      "description": "Handle package purchase in Stripe webhook",
      "acceptance_criteria": ["Detect package purchase from metadata", "Create package_entitlement", "Create license with generated key", "Send confirmation email"],
      "file_hint": "app/api/stripe/webhook/route.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-031",
      "epic": "Phase 5: Licensing Core",
      "category": "critical",
      "priority": 31,
      "description": "Create license key generation utility",
      "acceptance_criteria": ["Generates XXXX-XXXX-XXXX-XXXX format", "Uses crypto secure random", "Excludes confusing characters (0, O, 1, I, L)", "Checks uniqueness"],
      "file_hint": "lib/licenses/generate.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-032",
      "epic": "Phase 5: Licensing Core",
      "category": "critical",
      "priority": 32,
      "description": "Create license key hashing utility",
      "acceptance_criteria": ["SHA256 hash of license key", "Consistent hashing for lookups", "Used for license_key_hash field"],
      "file_hint": "lib/licenses/hash.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-033",
      "epic": "Phase 5: Licensing Core",
      "category": "critical",
      "priority": 33,
      "description": "Create JWT activation token generation",
      "acceptance_criteria": ["JWT with 30-day expiry", "Contains license_id, package_id, device_id_hash, user_id", "Signed with LICENSE_JWT_SECRET", "Uses HS256"],
      "file_hint": "lib/licenses/token.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-034",
      "epic": "Phase 5: Licensing Core",
      "category": "critical",
      "priority": 34,
      "description": "Create JWT activation token validation",
      "acceptance_criteria": ["Verifies JWT signature", "Checks expiration", "Returns decoded payload", "Throws on invalid token"],
      "file_hint": "lib/licenses/token.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-035",
      "epic": "Phase 5: Licensing Core",
      "category": "critical",
      "priority": 35,
      "description": "Implement POST /api/licenses/activate - activate license on device",
      "acceptance_criteria": ["Accepts license_key and device info", "Validates license exists and is active", "Checks device limit not exceeded", "Creates device_activation", "Returns activation token"],
      "file_hint": "app/api/licenses/activate/route.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-036",
      "epic": "Phase 5: Licensing Core",
      "category": "critical",
      "priority": 36,
      "description": "Implement POST /api/licenses/validate - validate activation token",
      "acceptance_criteria": ["Accepts activation_token and device_id", "Verifies JWT", "Checks license still active", "Updates last_validated_at", "Returns validity status"],
      "file_hint": "app/api/licenses/validate/route.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-037",
      "epic": "Phase 5: Licensing Core",
      "category": "high",
      "priority": 37,
      "description": "Implement POST /api/licenses/deactivate - deactivate device",
      "acceptance_criteria": ["Accepts token or license_id + device_id", "Marks device as inactive", "Decrements active_devices count", "Returns remaining devices"],
      "file_hint": "app/api/licenses/deactivate/route.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-038",
      "epic": "Phase 5: Licensing Core",
      "category": "high",
      "priority": 38,
      "description": "Implement GET /api/licenses - get user's licenses",
      "acceptance_criteria": ["Auth required", "Returns user's licenses with package info", "Includes device count", "Masks license key (XXXX-XXXX-XXXX-****)"],
      "file_hint": "app/api/licenses/route.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-039",
      "epic": "Phase 5: Licensing Core",
      "category": "high",
      "priority": 39,
      "description": "Add rate limiting to license endpoints",
      "acceptance_criteria": ["10/hour per license for activate", "100/hour per device for validate", "Returns 429 when exceeded", "Uses Redis or in-memory store"],
      "file_hint": "lib/security/rateLimit.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-040",
      "epic": "Phase 5: Licensing Core",
      "category": "medium",
      "priority": 40,
      "description": "Handle license expiration in validation",
      "acceptance_criteria": ["Check expires_at in validate", "Return expired status", "Grace period of 7 days", "Different error code for expired"],
      "file_hint": "app/api/licenses/validate/route.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-041",
      "epic": "Phase 6: License Admin",
      "category": "high",
      "priority": 41,
      "description": "Implement GET /api/admin/licenses - list all licenses",
      "acceptance_criteria": ["Admin auth required", "Pagination support", "Filter by user, package, status", "Search by email or key"],
      "file_hint": "app/api/admin/licenses/route.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-042",
      "epic": "Phase 6: License Admin",
      "category": "high",
      "priority": 42,
      "description": "Implement PUT /api/admin/licenses/[id] - update license",
      "acceptance_criteria": ["Admin auth required", "Can suspend/revoke", "Can adjust max_devices", "Can extend expiration"],
      "file_hint": "app/api/admin/licenses/[id]/route.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-043",
      "epic": "Phase 6: License Admin",
      "category": "medium",
      "priority": 43,
      "description": "Create admin licenses list page",
      "acceptance_criteria": ["Search by email or license key", "Table with user, package, status, devices", "Suspend/revoke actions", "View details link"],
      "file_hint": "app/admin/licenses/page.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-044",
      "epic": "Phase 6: License Admin",
      "category": "medium",
      "priority": 44,
      "description": "Create admin license detail page",
      "acceptance_criteria": ["Shows full license info", "Lists all device activations", "Activation history", "Actions: suspend, revoke, adjust limits"],
      "file_hint": "app/admin/licenses/[id]/page.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-045",
      "epic": "Phase 7: User License UI",
      "category": "critical",
      "priority": 45,
      "description": "Create user licenses and devices page",
      "acceptance_criteria": ["Lists user's licenses", "Shows package name, status, device count", "Expand to show devices", "Deactivate device button"],
      "file_hint": "app/app/licenses/page.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-046",
      "epic": "Phase 7: User License UI",
      "category": "high",
      "priority": 46,
      "description": "Create license card component",
      "acceptance_criteria": ["Shows package icon and name", "License key with copy button (masked)", "Status badge", "Device count progress bar"],
      "file_hint": "components/licenses/LicenseCard.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-047",
      "epic": "Phase 7: User License UI",
      "category": "high",
      "priority": 47,
      "description": "Create device list component",
      "acceptance_criteria": ["Shows device name and type icon", "Last seen timestamp", "Deactivate button with confirmation", "Current device indicator"],
      "file_hint": "components/licenses/DeviceList.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-048",
      "epic": "Phase 7: User License UI",
      "category": "medium",
      "priority": 48,
      "description": "Add reveal license key functionality",
      "acceptance_criteria": ["Click to reveal full key", "Auto-hide after 30 seconds", "Copy to clipboard button", "Security confirmation"],
      "file_hint": "components/licenses/LicenseKey.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-049",
      "epic": "Phase 8: Downloads",
      "category": "critical",
      "priority": 49,
      "description": "Implement GET /api/packages/[slug]/download - get download URL",
      "acceptance_criteria": ["Auth required", "Checks entitlement", "Returns signed URL (1hr expiry)", "Logs download attempt", "Returns file info"],
      "file_hint": "app/api/packages/[slug]/download/route.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-050",
      "epic": "Phase 8: Downloads",
      "category": "critical",
      "priority": 50,
      "description": "Create user downloads page",
      "acceptance_criteria": ["Lists packages user can download", "Shows current version and release date", "Download button with file size", "Release notes preview"],
      "file_hint": "app/app/downloads/page.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-051",
      "epic": "Phase 8: Downloads",
      "category": "high",
      "priority": 51,
      "description": "Create download card component",
      "acceptance_criteria": ["Package icon and name", "Version badge", "Release notes expandable", "Download button with size", "Changelog link"],
      "file_hint": "components/downloads/DownloadCard.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-052",
      "epic": "Phase 8: Downloads",
      "category": "medium",
      "priority": 52,
      "description": "Add beta channel toggle to downloads",
      "acceptance_criteria": ["Toggle to show beta releases", "Warning about beta stability", "Different badge for beta versions"],
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-053",
      "epic": "Phase 8: Downloads",
      "category": "medium",
      "priority": 53,
      "description": "Create package changelog page",
      "acceptance_criteria": ["Lists all releases", "Shows release notes", "Breaking changes highlighted", "Download links per version"],
      "file_hint": "app/app/packages/[slug]/changelog/page.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-054",
      "epic": "Phase 9: Activity Feed",
      "category": "high",
      "priority": 54,
      "description": "Implement GET /api/activity - get activity feed",
      "acceptance_criteria": ["Returns public + user's private activities", "Pagination with cursor", "Filter by type and package", "Pinned items first"],
      "file_hint": "app/api/activity/route.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-055",
      "epic": "Phase 9: Activity Feed",
      "category": "high",
      "priority": 55,
      "description": "Create user activity feed page",
      "acceptance_criteria": ["Infinite scroll activity list", "Filter tabs (All/Releases/Status/Announcements)", "Package filter dropdown", "Pinned items section"],
      "file_hint": "app/app/activity/page.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-056",
      "epic": "Phase 9: Activity Feed",
      "category": "high",
      "priority": 56,
      "description": "Create activity card component",
      "acceptance_criteria": ["Type-specific icon", "Title and body", "Package reference", "Action button if applicable", "Relative timestamp"],
      "file_hint": "components/activity/ActivityCard.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-057",
      "epic": "Phase 9: Activity Feed",
      "category": "medium",
      "priority": 57,
      "description": "Auto-create activity on new release",
      "acceptance_criteria": ["Trigger when release published", "Activity type 'release'", "Include version and notes summary", "Link to download"],
      "file_hint": "lib/activity/create.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-058",
      "epic": "Phase 9: Activity Feed",
      "category": "medium",
      "priority": 58,
      "description": "Auto-create activity on status change",
      "acceptance_criteria": ["Trigger when package status changes", "Activity type 'status_change'", "Include status message", "Different titles for up/down"],
      "file_hint": "lib/activity/create.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-059",
      "epic": "Phase 9: Activity Feed",
      "category": "medium",
      "priority": 59,
      "description": "Create admin announcement form",
      "acceptance_criteria": ["Title, body (markdown), package selector", "Pinned toggle", "Expiration date optional", "Preview before publish"],
      "file_hint": "app/admin/activity/new/page.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-060",
      "epic": "Phase 10: Status System",
      "category": "high",
      "priority": 60,
      "description": "Implement GET /api/status - get all package statuses",
      "acceptance_criteria": ["Returns all package statuses", "Includes last check time", "Response time if available", "Overall status calculation"],
      "file_hint": "app/api/status/route.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-061",
      "epic": "Phase 10: Status System",
      "category": "high",
      "priority": 61,
      "description": "Create status dashboard component",
      "acceptance_criteria": ["Shows all packages with status dots", "Green/yellow/red indicators", "Last checked timestamp", "Click for details"],
      "file_hint": "components/status/StatusDashboard.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-062",
      "epic": "Phase 10: Status System",
      "category": "medium",
      "priority": 62,
      "description": "Add status overview to user dashboard",
      "acceptance_criteria": ["Shows owned packages status", "Alert if any degraded/down", "Quick link to full status"],
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-063",
      "epic": "Phase 10: Status System",
      "category": "medium",
      "priority": 63,
      "description": "Implement admin status check trigger",
      "acceptance_criteria": ["POST /api/admin/status-check", "Calls package status_check_url", "Records result in status_checks", "Updates package status"],
      "file_hint": "app/api/admin/status-check/route.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-064",
      "epic": "Phase 10: Status System",
      "category": "low",
      "priority": 64,
      "description": "Create automated status check cron job",
      "acceptance_criteria": ["Vercel cron every 5 minutes", "Checks all packages with status_check_url", "Creates status_change activity on change"],
      "file_hint": "app/api/cron/status-check/route.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-065",
      "epic": "Phase 11: User Dashboard",
      "category": "critical",
      "priority": 65,
      "description": "Create user dashboard page",
      "acceptance_criteria": ["Welcome message", "Quick stats (products owned, active devices)", "Recent activity (last 5)", "Quick actions"],
      "file_hint": "app/app/page.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-066",
      "epic": "Phase 11: User Dashboard",
      "category": "critical",
      "priority": 66,
      "description": "Create My Products page",
      "acceptance_criteria": ["Grid of owned products", "Filter: All/Courses/Local Agents/Cloud Apps", "Type badge on cards", "Access actions per type"],
      "file_hint": "app/app/products/page.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-067",
      "epic": "Phase 11: User Dashboard",
      "category": "high",
      "priority": 67,
      "description": "Create product card component",
      "acceptance_criteria": ["Icon and name", "Type badge", "Status indicator", "Action button (Download/Open Cloud/Access Course)"],
      "file_hint": "components/products/ProductCard.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-068",
      "epic": "Phase 11: User Dashboard",
      "category": "high",
      "priority": 68,
      "description": "Create package detail public page",
      "acceptance_criteria": ["Full package description", "Features list", "Requirements", "Screenshots gallery", "Purchase/download CTA"],
      "file_hint": "app/(public)/packages/[slug]/page.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-069",
      "epic": "Phase 11: User Dashboard",
      "category": "medium",
      "priority": 69,
      "description": "Update navigation with new pages",
      "acceptance_criteria": ["Dashboard, My Products, Downloads in nav", "Courses link (inherited)", "Activity, Licenses & Devices", "Proper active states"],
      "file_hint": "components/layout/sidebar.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-070",
      "epic": "Phase 12: Cloud SSO",
      "category": "high",
      "priority": 70,
      "description": "Create SSO token generation for cloud apps",
      "acceptance_criteria": ["Short-lived token (5 min)", "Contains user_id, entitlements", "Signed JWT", "One-time use flag"],
      "file_hint": "lib/cloud-sso/token.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-071",
      "epic": "Phase 12: Cloud SSO",
      "category": "high",
      "priority": 71,
      "description": "Implement POST /api/cloud-sso/generate - get SSO URL",
      "acceptance_criteria": ["Auth required", "Checks entitlement", "Generates token", "Returns redirect URL with token"],
      "file_hint": "app/api/cloud-sso/generate/route.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-072",
      "epic": "Phase 12: Cloud SSO",
      "category": "high",
      "priority": 72,
      "description": "Implement POST /api/cloud-sso/verify - verify SSO token",
      "acceptance_criteria": ["Called by cloud apps", "Verifies token signature", "Checks not expired or used", "Returns user info and entitlements"],
      "file_hint": "app/api/cloud-sso/verify/route.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-073",
      "epic": "Phase 12: Cloud SSO",
      "category": "medium",
      "priority": 73,
      "description": "Add 'Open Cloud App' button to products",
      "acceptance_criteria": ["Shows for CLOUD_APP type", "Generates SSO token on click", "Redirects to cloud app URL", "Shows loading state"],
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-074",
      "epic": "Phase 13: Email Notifications",
      "category": "high",
      "priority": 74,
      "description": "Send email on package purchase with license key",
      "acceptance_criteria": ["Email template with license key", "Download instructions", "Getting started guide link", "Support contact"],
      "file_hint": "lib/email/sendPackagePurchaseEmail.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-075",
      "epic": "Phase 13: Email Notifications",
      "category": "medium",
      "priority": 75,
      "description": "Send email on new release for owned packages",
      "acceptance_criteria": ["Email to users with entitlement", "Release notes summary", "Download link", "Respects notification preferences"],
      "file_hint": "lib/email/sendNewReleaseEmail.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-076",
      "epic": "Phase 13: Email Notifications",
      "category": "medium",
      "priority": 76,
      "description": "Send email on license expiration warning",
      "acceptance_criteria": ["7 days before expiration", "Renewal instructions", "Current device count", "Support link"],
      "file_hint": "lib/email/sendLicenseExpirationEmail.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-077",
      "epic": "Phase 13: Email Notifications",
      "category": "low",
      "priority": 77,
      "description": "Add notification preferences to user settings",
      "acceptance_criteria": ["Toggle for new releases", "Toggle for status changes", "Per-package preferences option"],
      "file_hint": "app/app/settings/notifications/page.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-078",
      "epic": "Phase 14: Admin Analytics",
      "category": "high",
      "priority": 78,
      "description": "Create admin dashboard with package metrics",
      "acceptance_criteria": ["Total downloads", "Active licenses", "Revenue by package", "Active users graph"],
      "file_hint": "app/admin/dashboard/page.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-079",
      "epic": "Phase 14: Admin Analytics",
      "category": "medium",
      "priority": 79,
      "description": "Add download analytics to package detail",
      "acceptance_criteria": ["Downloads over time chart", "Downloads by version", "Geographic distribution", "Device type breakdown"],
      "file_hint": "app/admin/packages/[id]/analytics/page.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-080",
      "epic": "Phase 14: Admin Analytics",
      "category": "medium",
      "priority": 80,
      "description": "Add license analytics",
      "acceptance_criteria": ["Active vs total licenses", "Activation success rate", "Device utilization", "Expiring soon count"],
      "file_hint": "app/admin/analytics/licenses/page.tsx",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-081",
      "epic": "Phase 15: Testing",
      "category": "high",
      "priority": 81,
      "description": "Unit tests for license key generation",
      "acceptance_criteria": ["Format validation", "Uniqueness test", "Character set test"],
      "file_hint": "__tests__/lib/licenses/generate.test.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-082",
      "epic": "Phase 15: Testing",
      "category": "high",
      "priority": 82,
      "description": "Unit tests for JWT token generation/validation",
      "acceptance_criteria": ["Token generation", "Token validation", "Expiration handling", "Invalid token handling"],
      "file_hint": "__tests__/lib/licenses/token.test.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-083",
      "epic": "Phase 15: Testing",
      "category": "high",
      "priority": 83,
      "description": "Integration tests for license activation API",
      "acceptance_criteria": ["Successful activation", "Invalid key handling", "Device limit exceeded", "Already activated device"],
      "file_hint": "__tests__/api/licenses/activate.test.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-084",
      "epic": "Phase 15: Testing",
      "category": "high",
      "priority": 84,
      "description": "Integration tests for license validation API",
      "acceptance_criteria": ["Valid token", "Expired token", "Device mismatch", "Revoked license"],
      "file_hint": "__tests__/api/licenses/validate.test.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-085",
      "epic": "Phase 15: Testing",
      "category": "medium",
      "priority": 85,
      "description": "Integration tests for package CRUD APIs",
      "acceptance_criteria": ["Create package", "Update package", "Delete package", "Auth checks"],
      "file_hint": "__tests__/api/admin/packages.test.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-086",
      "epic": "Phase 15: Testing",
      "category": "medium",
      "priority": 86,
      "description": "E2E test for package purchase flow",
      "acceptance_criteria": ["View package", "Checkout", "License created", "Download available"],
      "file_hint": "e2e/package-purchase.spec.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-087",
      "epic": "Phase 15: Testing",
      "category": "medium",
      "priority": 87,
      "description": "E2E test for license activation flow",
      "acceptance_criteria": ["Get license key", "Call activate API", "Validate token", "Deactivate device"],
      "file_hint": "e2e/license-activation.spec.ts",
      "passes": true,
      "implemented_at": "2026-02-10"
    },
    {
      "id": "sh-088",
      "epic": "Phase 16: Advanced Features",
      "category": "medium",
      "priority": 88,
      "description": "Bundle support - multiple packages in one purchase",
      "acceptance_criteria": ["Bundle product type", "Contains multiple packages", "Creates all entitlements", "Discount pricing"],
      "passes": true,
      "implemented_at": "2026-02-11"
    },
    {
      "id": "sh-089",
      "epic": "Phase 16: Advanced Features",
      "category": "medium",
      "priority": 89,
      "description": "Subscription tier with all packages access",
      "acceptance_criteria": ["Subscription product", "Grants all package entitlements", "Handles cancellation", "Renewal flow"],
      "passes": true,
      "implemented_at": "2026-02-11"
    },
    {
      "id": "sh-090",
      "epic": "Phase 16: Advanced Features",
      "category": "medium",
      "priority": 90,
      "description": "Trial/demo mode for packages",
      "acceptance_criteria": ["Time-limited trial (7 days)", "Trial license type", "Convert trial to paid", "One trial per user per package"],
      "passes": true,
      "implemented_at": "2026-02-11"
    },
    {
      "id": "sh-091",
      "epic": "Phase 16: Advanced Features",
      "category": "low",
      "priority": 91,
      "description": "Promo codes for package discounts",
      "acceptance_criteria": ["Create promo codes", "Apply at checkout", "Usage limits", "Expiration dates"],
      "passes": true,
      "implemented_at": "2026-02-11"
    },
    {
      "id": "sh-092",
      "epic": "Phase 16: Advanced Features",
      "category": "low",
      "priority": 92,
      "description": "Referral system for packages",
      "acceptance_criteria": ["Generate referral links", "Track conversions", "Credit/discount for referrer"],
      "passes": true,
      "implemented_at": "2026-02-11"
    },
    {
      "id": "sh-093",
      "epic": "Phase 17: Package-Course Integration",
      "category": "high",
      "priority": 93,
      "description": "Link packages to related courses",
      "acceptance_criteria": ["related_course_id on packages", "Show course on package page", "Show package on course page", "Bundle pricing option"],
      "passes": true,
      "implemented_at": "2026-02-11"
    },
    {
      "id": "sh-094",
      "epic": "Phase 17: Package-Course Integration",
      "category": "medium",
      "priority": 94,
      "description": "Course includes software download",
      "acceptance_criteria": ["Lesson type: download", "Entitlement grants software access", "Download from within course"],
      "passes": true,
      "implemented_at": "2026-02-11"
    },
    {
      "id": "sh-095",
      "epic": "Phase 17: Package-Course Integration",
      "category": "medium",
      "priority": 95,
      "description": "Auto-generate setup lessons for packages",
      "acceptance_criteria": ["Installation guide template", "License activation guide", "Troubleshooting guide"],
      "passes": true,
      "implemented_at": "2026-02-11"
    },
    {
      "id": "sh-096",
      "epic": "Phase 18: Polish",
      "category": "medium",
      "priority": 96,
      "description": "Mobile responsive design audit",
      "acceptance_criteria": ["All pages work on mobile", "Touch-friendly UI", "Responsive navigation"],
      "passes": true,
      "implemented_at": "2026-02-11"
    },
    {
      "id": "sh-097",
      "epic": "Phase 18: Polish",
      "category": "medium",
      "priority": 97,
      "description": "Performance optimization",
      "acceptance_criteria": ["Page load under 2s", "API responses under 200ms", "Proper caching headers"],
      "passes": true,
      "implemented_at": "2026-02-11"
    },
    {
      "id": "sh-098",
      "epic": "Phase 18: Polish",
      "category": "low",
      "priority": 98,
      "description": "SEO optimization for package pages",
      "acceptance_criteria": ["Meta tags", "Structured data", "Sitemap inclusion"],
      "passes": true,
      "implemented_at": "2026-02-11"
    },
    {
      "id": "sh-099",
      "epic": "Phase 18: Polish",
      "category": "low",
      "priority": 99,
      "description": "Accessibility audit (WCAG 2.1)",
      "acceptance_criteria": ["Keyboard navigation", "Screen reader support", "Color contrast"],
      "passes": true,
      "implemented_at": "2026-02-11"
    },
    {
      "id": "sh-100",
      "epic": "Phase 19: Deployment",
      "category": "critical",
      "priority": 100,
      "description": "Production environment setup",
      "acceptance_criteria": ["Vercel deployment config", "Environment variables", "Domain configuration"],
      "file_hint": "vercel.json",
      "passes": true,
      "implemented_at": "2026-02-11"
    },
    {
      "id": "sh-101",
      "epic": "Phase 19: Deployment",
      "category": "critical",
      "priority": 101,
      "description": "Production Supabase setup",
      "acceptance_criteria": ["Create production project", "Apply all migrations", "Configure RLS", "Set up backups"],
      "passes": true,
      "implemented_at": "2026-02-11"
    },
    {
      "id": "sh-102",
      "epic": "Phase 19: Deployment",
      "category": "high",
      "priority": 102,
      "description": "Cloudflare R2 setup for binaries",
      "acceptance_criteria": ["R2 bucket created", "Access policies configured", "Signed URL generation", "CORS settings"],
      "passes": true,
      "implemented_at": "2026-02-11"
    },
    {
      "id": "sh-103",
      "epic": "Phase 19: Deployment",
      "category": "high",
      "priority": 103,
      "description": "Production Stripe configuration",
      "acceptance_criteria": ["Live mode webhook", "Products created", "Pricing configured"],
      "passes": true,
      "implemented_at": "2026-02-11"
    },
    {
      "id": "sh-104",
      "epic": "Inherited: Courses",
      "category": "critical",
      "priority": 104,
      "description": "Course listing page (inherited from Portal28)",
      "acceptance_criteria": ["Shows available courses", "Enrolled status", "Progress indicator"],
      "passes": true
    },
    {
      "id": "sh-105",
      "epic": "Inherited: Courses",
      "category": "critical",
      "priority": 105,
      "description": "Course detail page (inherited)",
      "acceptance_criteria": ["Course overview", "Module/lesson list", "Enroll/purchase CTA"],
      "passes": true
    },
    {
      "id": "sh-106",
      "epic": "Inherited: Courses",
      "category": "critical",
      "priority": 106,
      "description": "Lesson viewer with Mux video (inherited)",
      "acceptance_criteria": ["Mux video player", "Progress tracking", "Next/prev navigation"],
      "passes": true
    },
    {
      "id": "sh-107",
      "epic": "Inherited: Courses",
      "category": "high",
      "priority": 107,
      "description": "Course progress tracking (inherited)",
      "acceptance_criteria": ["Mark lessons complete", "Overall progress %", "Resume where left off"],
      "passes": true
    },
    {
      "id": "sh-108",
      "epic": "Inherited: Auth",
      "category": "critical",
      "priority": 108,
      "description": "Magic link authentication (inherited)",
      "acceptance_criteria": ["Email magic link login", "Supabase auth integration", "Session management"],
      "passes": true
    },
    {
      "id": "sh-109",
      "epic": "Inherited: Auth",
      "category": "critical",
      "priority": 109,
      "description": "Protected routes middleware (inherited)",
      "acceptance_criteria": ["Auth required for /app routes", "Admin routes protected", "Redirect to login"],
      "passes": true
    },
    {
      "id": "sh-110",
      "epic": "Inherited: Payments",
      "category": "critical",
      "priority": 110,
      "description": "Stripe checkout integration (inherited)",
      "acceptance_criteria": ["Create checkout sessions", "Handle success/cancel", "Webhook processing"],
      "passes": true
    },
    {
      "id": "sh-111",
      "epic": "Inherited: Payments",
      "category": "critical",
      "priority": 111,
      "description": "Course entitlement system (inherited)",
      "acceptance_criteria": ["Grant access on purchase", "Check access in middleware", "Handle subscriptions"],
      "passes": true
    },
    {
      "id": "sh-112",
      "epic": "Inherited: Admin",
      "category": "high",
      "priority": 112,
      "description": "Admin course management (inherited)",
      "acceptance_criteria": ["Create/edit courses", "Manage modules/lessons", "Upload videos"],
      "passes": true
    },
    {
      "id": "sh-113",
      "epic": "Inherited: Admin",
      "category": "high",
      "priority": 113,
      "description": "Admin dashboard basics (inherited)",
      "acceptance_criteria": ["Admin navigation", "Basic stats", "User management"],
      "passes": true
    },
    {
      "id": "sh-114",
      "epic": "Inherited: Email",
      "category": "high",
      "priority": 114,
      "description": "Resend email integration (inherited)",
      "acceptance_criteria": ["Email sending configured", "Templates working", "Magic link emails"],
      "passes": true
    },
    {
      "id": "sh-115",
      "epic": "Inherited: Video",
      "category": "high",
      "priority": 115,
      "description": "Mux video hosting (inherited)",
      "acceptance_criteria": ["Video upload", "Playback working", "Progress tracking"],
      "passes": true
    },
    {
      "id": "sh-116",
      "epic": "Documentation",
      "category": "medium",
      "priority": 116,
      "description": "API documentation",
      "acceptance_criteria": ["Document all endpoints", "Request/response examples", "Error codes"],
      "file_hint": "docs/API_SPECS.md",
      "passes": true,
      "implemented_at": "2026-02-11"
    },
    {
      "id": "sh-117",
      "epic": "Documentation",
      "category": "medium",
      "priority": 117,
      "description": "Local agent integration guide",
      "acceptance_criteria": ["How to call activate API", "Token storage guide", "Validation flow"],
      "file_hint": "docs/LOCAL_AGENT_INTEGRATION.md",
      "passes": true,
      "implemented_at": "2026-02-11"
    },
    {
      "id": "sh-118",
      "epic": "Documentation",
      "category": "medium",
      "priority": 118,
      "description": "Cloud app integration guide",
      "acceptance_criteria": ["SSO flow documentation", "Verify endpoint usage", "Session management"],
      "file_hint": "docs/CLOUD_APP_INTEGRATION.md",
      "passes": true,
      "implemented_at": "2026-02-11"
    },
    {
      "id": "sh-119",
      "epic": "Documentation",
      "category": "low",
      "priority": 119,
      "description": "User help documentation",
      "acceptance_criteria": ["Getting started guide", "FAQ", "Troubleshooting"],
      "file_hint": "docs/USER_GUIDE.md",
      "passes": true,
      "implemented_at": "2026-02-11"
    },
    {
      "id": "sh-120",
      "epic": "Documentation",
      "category": "low",
      "priority": 120,
      "description": "Admin documentation",
      "acceptance_criteria": ["Package management guide", "License management", "Analytics usage"],
      "file_hint": "docs/ADMIN_GUIDE.md",
      "passes": true,
      "implemented_at": "2026-02-11"
    }
  ]
}
