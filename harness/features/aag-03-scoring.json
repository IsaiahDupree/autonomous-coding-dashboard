{"features":[
  {"id":"AAG-021","name":"ICPScoringAgent — Claude batch scoring","description":"Read all crm_contacts WHERE relationship_score IS NULL AND pipeline_stage='new'. For each, call Claude with contact data. Store score + reasoning in crm_score_history and crm_contacts.relationship_score","category":"agent","priority":1,"status":"completed","passes":true,"prd":"PRD-022"},
  {"id":"AAG-022","name":"ICP scoring prompt — configurable per niche","description":"Store scoring prompt template in acq_niche_configs.scoring_prompt. Default prompt evaluates: active posting, engagement rate, niche relevance, follower count range, content type fit. Score 0-100 with 1-sentence reasoning","category":"agent","priority":1,"status":"completed","passes":true,"prd":"PRD-022"},
  {"id":"AAG-023","name":"Score routing — auto-advance to 'qualified'","description":"After scoring, apply routing: score>=65 → UPDATE pipeline_stage='qualified'; score<65 → pipeline_stage='archived'. INSERT to acq_funnel_events for each transition","category":"agent","priority":1,"status":"completed","passes":true,"prd":"PRD-022"},
  {"id":"AAG-024","name":"Configurable ICP min_score per niche","description":"Read acq_niche_configs.icp_min_score for routing threshold (default 65). Allow per-niche override so B2B LinkedIn niche can use 72 while creator niches use 60","category":"agent","priority":2,"status":"completed","passes":true,"prd":"PRD-022"},
  {"id":"AAG-025","name":"Batch scoring with Claude Haiku for cost efficiency","description":"Use claude-3-haiku for batch scoring (cost ~$0.001/contact). Batch up to 20 contacts per API call using a structured JSON output prompt. Fall back to individual calls if batch fails","category":"agent","priority":2,"status":"completed","passes":true,"prd":"PRD-022"},
  {"id":"AAG-026","name":"Score history tracking in crm_score_history","description":"Every score update creates a record in crm_score_history: contact_id, score, reasoning, model_used, scored_at. Supports score drift tracking over time","category":"database","priority":2,"status":"completed","passes":true,"prd":"PRD-022"},
  {"id":"AAG-027","name":"Re-scoring on new post data","description":"If contact's crm_market_research data was updated in last 7 days and last score is >30 days old, flag for re-scoring. Auto-queue re-score in nightly batch","category":"agent","priority":3,"status":"completed","passes":true,"prd":"PRD-022"},
  {"id":"AAG-028","name":"POST /api/acquisition/score endpoint","description":"Trigger scoring for a batch of contacts. Accepts contact_ids[] or niche_config_id + limit. Returns scored_count, qualified_count, archived_count","category":"api","priority":2,"status":"completed","passes":true,"prd":"PRD-022"},
  {"id":"AAG-029","name":"Scoring CLI — python3 acquisition/scoring_agent.py --run","description":"CLI flags: --limit N, --niche-id, --dry-run, --rescore-stale. Print score distribution histogram after run","category":"setup","priority":2,"status":"completed","passes":true,"prd":"PRD-022"},
  {"id":"AAG-030","name":"Scoring tests","description":"pytest: test_scoring_prompt_generates_valid_json, test_batch_scoring, test_score_routing_qualified, test_score_routing_archived, test_rescore_stale_logic","category":"testing","priority":2,"status":"completed","passes":true,"prd":"PRD-022"}
]}
