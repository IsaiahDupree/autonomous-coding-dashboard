{"features":[
  {"id":"AAG-093","name":"PipelineStatsCollector — aggregate CRM data for reports","description":"Query crm_contacts for stage counts. Query acq_funnel_events for this week's transitions. Query crm_messages for sent/received counts. Return WeeklyStats dataclass","category":"reporting","priority":1,"status":"completed","passes":true,"prd":"PRD-026"},
  {"id":"AAG-094","name":"ConversionCalculator — stage-to-stage rates","description":"Calculate: qualify_rate=(qualified/discovered), reply_rate=(replied/contacted), close_rate=(closed_won/replied). Compare to previous week. Flag improvements/regressions","category":"reporting","priority":1,"status":"completed","passes":true,"prd":"PRD-026"},
  {"id":"AAG-095","name":"NichePerformanceRanker — best niche × platform combos","description":"GROUP BY niche_label, platform FROM acq_funnel_events JOIN crm_contacts. Rank by reply_rate. Identify top 3 and bottom 3 combinations this week","category":"reporting","priority":2,"status":"completed","passes":true,"prd":"PRD-026"},
  {"id":"AAG-096","name":"InsightGenerator — Claude weekly insights","description":"Feed WeeklyStats to Claude (claude-3-5-sonnet). Prompt: generate 3-5 specific, actionable insights from this acquisition funnel data. Format as numbered list. Each insight has: observation, evidence, recommended_action","category":"reporting","priority":1,"status":"completed","passes":true,"prd":"PRD-026"},
  {"id":"AAG-097","name":"ReportFormatter — Markdown + HTML report","description":"Format WeeklyStats + insights into the report template from PRD-026. Render Markdown version (for Obsidian/email) and HTML version (for email delivery). Include comparison vs last week for key metrics","category":"reporting","priority":1,"status":"completed","passes":true,"prd":"PRD-026"},
  {"id":"AAG-098","name":"Report delivery — email","description":"Send HTML report via mcp0_mail_create_email. Subject: 'Acquisition Pipeline Report — Week of {date}'. Body: full HTML report. Save to acq_weekly_reports.delivered_at","category":"reporting","priority":1,"status":"completed","passes":true,"prd":"PRD-026"},
  {"id":"AAG-099","name":"Report delivery — Obsidian vault","description":"Write Markdown report to ~/.memory/vault/DAILY-NOTES/{YYYY-MM-DD}-acquisition-report.md. Append weekly summary to KNOWLEDGE-GRAPH.md under 'Acquisition' section","category":"reporting","priority":2,"status":"completed","passes":true,"prd":"PRD-026"},
  {"id":"AAG-100","name":"Report delivery — Apple push notification","description":"Send summary push via mcp0_notifications_send_notification: title='Weekly Acquisition Report', message='{replies} replies, {calls} calls booked this week. Top: {top_platform}'","category":"reporting","priority":2,"status":"completed","passes":true,"prd":"PRD-026"},
  {"id":"AAG-101","name":"VariantTracker — A/B message variant performance","description":"Group crm_messages by metadata.variant_id. Calculate reply_rate per variant. Store in acq_message_variants. Flag winner when one variant has 2x reply rate with >= 10 samples","category":"reporting","priority":2,"status":"completed","passes":true,"prd":"PRD-026"},
  {"id":"AAG-102","name":"Auto-apply insights — raise ICP min_score if data supports it","description":"If report insights include 'raise score threshold', call POST /api/acquisition/niches/{id} to UPDATE icp_min_score. Only auto-apply if confidence > 80% (sample size >= 20, delta >= 10 points)","category":"reporting","priority":3,"status":"completed","passes":true,"prd":"PRD-026"},
  {"id":"AAG-103","name":"GET /api/acquisition/reports/latest endpoint","description":"Return most recent weekly report: full stats, insights[], variant performance, top niche/platform, recommended actions. Include comparison to previous week","category":"api","priority":2,"status":"completed","passes":true,"prd":"PRD-026"},
  {"id":"AAG-104","name":"GET /api/acquisition/analytics/conversion endpoint","description":"Return conversion rates by stage with week-over-week delta. Accepts date_range filter","category":"api","priority":2,"status":"completed","passes":true,"prd":"PRD-026"},
  {"id":"AAG-105","name":"GET /api/acquisition/analytics/variants endpoint","description":"A/B variant performance table. Sends, replies, reply_rate per variant. Winner flag. Confidence score based on sample size","category":"api","priority":2,"status":"completed","passes":true,"prd":"PRD-026"},
  {"id":"AAG-106","name":"POST /api/acquisition/reports/generate endpoint","description":"Generate report for a given week_start date. Accepts deliver=true to also send email/push. Accepts dry_run=true to preview without saving","category":"api","priority":2,"status":"completed","passes":true,"prd":"PRD-026"},
  {"id":"AAG-107","name":"POST /api/acquisition/analytics/apply-insights endpoint","description":"Apply recommended actions from latest report: update ICP scores, mark best variant as default, update niche platform priorities. Returns applied_changes[]","category":"api","priority":3,"status":"completed","passes":true,"prd":"PRD-026"},
  {"id":"AAG-108","name":"Funnel event query helpers","description":"Helper functions: events_this_week(), conversion_between(from_stage, to_stage, since), avg_days_in_stage(stage). Used by all reporting queries","category":"database","priority":2,"status":"completed","passes":true,"prd":"PRD-026"},
  {"id":"AAG-109","name":"Reporting CLI — python3 acquisition/reporting_agent.py","description":"CLI flags: --generate (print report), --deliver (email + push + obsidian), --week DATE, --dry-run. Print formatted ASCII report to terminal","category":"setup","priority":2,"status":"completed","passes":true,"prd":"PRD-026"},
  {"id":"AAG-110","name":"Reporting tests","description":"pytest: test_stats_collector_counts_correctly, test_conversion_calculator, test_variant_tracker_identifies_winner, test_insight_generator_returns_actions, test_report_formatter_valid_markdown","category":"testing","priority":2,"status":"completed","passes":true,"prd":"PRD-026"},
  {"id":"AAG-176","name":"Resolution in weekly report","description":"Add entity resolution section to weekly report: contacts resolved this week, avg resolution score, email discovery rate, most productive research source (perplexity vs bio_link vs username_match)","category":"reporting","priority":2,"status":"completed","passes":true,"prd":"PRD-028"}
]}
