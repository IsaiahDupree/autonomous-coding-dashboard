{"features":[
  {"id":"AAG-001","name":"Database migration — all acquisition tables","description":"Create 001_acquisition_tables.sql with all 10 new tables: acq_niche_configs, acq_discovery_runs, acq_warmup_schedules, acq_warmup_configs, acq_outreach_sequences, acq_human_notifications, acq_daily_caps, acq_weekly_reports, acq_message_variants, acq_funnel_events","category":"database","priority":1,"status":"completed","passes":true,"prd":"PRD-022","notes":"17 tables created in scripts/acquisition/db/migrations/001_acquisition_tables.sql"},
  {"id":"AAG-002","name":"Database query layer — acquisition/db/queries.py","description":"Typed async functions for all SQL operations across the 10 acquisition tables. Uses httpx Supabase REST client pattern matching crm_brain.py","category":"database","priority":1,"status":"completed","passes":true,"prd":"PRD-022","notes":"40+ typed functions in scripts/acquisition/db/queries.py using stdlib urllib.request"},
  {"id":"AAG-003","name":"NicheConfig data model + CRUD","description":"Pydantic model for acq_niche_configs. CRUD operations: create, read, update, deactivate. Validate that at least one platform and one keyword are provided","category":"database","priority":1,"status":"completed","passes":true,"prd":"PRD-022","notes":"CRUD in queries.py: get_niche_configs, get_niche_config, create_niche_config, update_niche_config, deactivate_niche_config"},
  {"id":"AAG-004","name":"Seed default niche configs","description":"Seed 3 starter niche configs: 'ai-automation-coaches' (IG/TW/TT), 'agency-owners-b2b' (LI/TW), 'content-creators-growth' (TT/IG/Threads). Each with keywords, ICP min score, and weekly max","category":"database","priority":2,"status":"completed","passes":true,"prd":"PRD-022","notes":"seed_niche_configs() and seed_all() in queries.py with all 3 defaults"},
  {"id":"AAG-111","name":"acquisition/config.py — centralized config","description":"All config in one place: SUPABASE_URL, SUPABASE_KEY, ANTHROPIC_API_KEY, DM_SERVICE_PORTS dict, COMMENT_SERVICE_PORTS dict, ENABLE_ACQUISITION, daily cap defaults, state machine transitions","category":"setup","priority":1,"status":"completed","passes":true,"prd":"PRD-025","notes":"scripts/acquisition/config.py with all env vars, ports, caps, stages, transitions, timing"},
  {"id":"AAG-114","name":"acquisition/__init__.py — package exports","description":"Export main classes: AcquisitionOrchestrator, DiscoveryAgent, ScoringAgent, WarmupAgent, OutreachAgent, FollowUpAgent, ReportingAgent. Version: 1.0.0","category":"setup","priority":2,"status":"completed","passes":true,"prd":"PRD-025","notes":"scripts/acquisition/__init__.py with version 1.0.0"},
  {"id":"AAG-116","name":"requirements.txt for acquisition module","description":"Dependencies: anthropic, httpx, supabase, fastapi, uvicorn, pydantic, python-dotenv, apscheduler (or use existing crm_brain pattern). Pin versions","category":"setup","priority":1,"status":"completed","passes":true,"prd":"PRD-025","notes":"scripts/acquisition/requirements.txt with pinned versions"},
  {"id":"AAG-120","name":"README.md for acquisition module","description":"Document: overview, architecture diagram, setup instructions, environment variables, CLI commands, cron schedule, how to configure niches, how to interpret reports. With example output","category":"setup","priority":2,"status":"completed","passes":true,"prd":"PRD-025","notes":"scripts/acquisition/README.md with full architecture, setup, schedule, and stage diagram"},
  {"id":"AAG-121","name":"acq_email_sequences table migration","description":"Create acq_email_sequences table: contact_id, service_slug, touch_number, subject, body_text, body_html, from_email, to_email, scheduled_at, sent_at, opened_at, clicked_at, resend_id, status. Also acq_email_discoveries and acq_email_unsubscribes tables","category":"database","priority":1,"status":"completed","passes":true,"prd":"PRD-027","notes":"All 3 email tables in 001_acquisition_tables.sql"},
  {"id":"AAG-122","name":"crm_contacts email columns migration","description":"ALTER TABLE crm_contacts: ADD email text, email_verified boolean, email_source text, active_channel text DEFAULT 'dm', email_opted_out boolean DEFAULT false","category":"database","priority":1,"status":"completed","passes":true,"prd":"PRD-027","notes":"All email columns in 002_crm_contacts_columns.sql"},
  {"id":"AAG-151","name":"acq_entity_associations + acq_resolution_runs migration","description":"Create acq_entity_associations table (contact_id, known_platform, known_handle, found_platform, found_handle, found_url, association_type, confidence, confirmed, evidence_sources[], claude_reasoning) and acq_resolution_runs","category":"database","priority":1,"status":"completed","passes":true,"prd":"PRD-028","notes":"Both tables + acq_resolution_queue in 001_acquisition_tables.sql"},
  {"id":"AAG-152","name":"crm_contacts cross-platform columns migration","description":"ALTER TABLE: ADD twitter_handle, instagram_handle, tiktok_handle, linkedin_url, website_url, entity_resolved boolean, resolution_score integer. Safe: IF NOT EXISTS, no data loss","category":"database","priority":1,"status":"completed","passes":true,"prd":"PRD-028","notes":"All cross-platform columns in 002_crm_contacts_columns.sql with indexes"},
  {"id":"AAG-179","name":"acq_api_usage table — track external API costs","description":"CREATE TABLE acq_api_usage: api_name (perplexity/claude/resend), request_count, estimated_cost_usd, date. INSERT on every external API call. Used by reporting for cost tracking","category":"database","priority":3,"status":"completed","passes":true,"prd":"PRD-028","notes":"Table in 001_acquisition_tables.sql, track_api_usage() function in queries.py"}
]}
